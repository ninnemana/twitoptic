{"ts":1374430436857,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"\n/*\n * GET home page.\n */\n\nexports.index = function(req, res){\n  res.render('index', { title: 'Express' });\n};"]],"start1":0,"start2":0,"length1":0,"length2":110}]],"length":110}
{"contributors":[],"silentsave":false,"ts":1374432447835,"patch":[[{"diffs":[[0," */\n"],[-1,"\nexports.index = function(req, res){\n  res.render('index', { title: 'Express' });"],[1," \nvar oauth = require('oauth').OAuth,\n    sys = require('sys'),\n    url = require('url');\n\nvar _twitterConsumerKey = \"mHhRqtHf6UI8Rr6jihEPBA\";\nvar _twitterConsumerSecret = \"RRk6zEvQoT06zkPrnjiPY6emfDuvWnwZ8IYZ5K2938\";\nvar _twitterAuthEndpointUrl = \"https://api.twitter.com/oauth/authenticate?oauth_token=\";\nvar _requestTokenUrl = \"https://api.twitter.com/oauth/request_token\";\nvar _authorizeUrl = \"https://api.twitter.com/oauth/access_token\";\nvar _callbackUrl = \"http://twitoptic.ninnemana.c9.io/oauth/callback\";\nvar global_secret_lookup = {};\n\nexports.index = function(req, res){\n    console.log(\"Default Url\");\n    oa.getOAuthRequestToken(function(error, oauth_token, oauth_token_secret, results){\n        if(error){\n            console.log('error: ' + sys.inspect(error));\n            var errResponse = 'Unable to retrieve request token';\n            res.writeHead(200, {'Content-Type':'text/plain','Content-Length': errResponse.length});\n            res.end(errResponse);\n        }else{\n            console.log('oauth_token:' + oauth_token);\n            console.log('oauth_token_secret: ' + oauth_token_secret);\n            console.log('request token results: ' + sys.inspect(results));\n            \n            global_secret_lookup[oauth_token] = oauth_token_secret;\n            \n            var twitterAuthEndpoint = _twitterAuthEndpointUrl + oauth_token;\n            console.log('Redirect to: ' + twitterAuthEndpoint);\n            res.writeHead(301, {\n                'Content-Type': 'text/plain',\n                'Location': twitterAuthEndpoint\n                });\n                \n            res.end('Redirecting...\\n');\n            \n        }\n    });\n  //res.render('index', { title: 'Express' });\n};\n\nexports.oauth_callback = function(req, res){\n    console.log('Callback Url');\n  \n    var parsedUrl = URL.parse(req.url);\n    var parsedQuery = querystring.parse(parsedUrl.query);\n    \n    console.log(parsedQuery);\n    "],[0,"\n};"]],"start1":22,"start2":22,"length1":88,"length2":1938}]],"length":1960,"saved":false}
{"ts":1374432481921,"patch":[[{"diffs":[[0,");\n    \n"],[1,"    res.end(parsedQuery);\n"],[0,"};"]],"start1":1950,"start2":1950,"length1":10,"length2":36}]],"length":1986,"saved":false}
{"ts":1374432693390,"patch":[[{"diffs":[[0,"okup = {};\n\n"],[1,"var oa = new OAuth(_requestTokenUrl, _authorizeUrl,_twitterConsumerSecret, _twitterConsumerKey, '1.0', null, 'HMAC-SHA1');\n\n"],[0,"exports.inde"]],"start1":559,"start2":559,"length1":24,"length2":148}]],"length":2110,"saved":false}
{"ts":1374432719562,"patch":[[{"diffs":[[0,"th')"],[-1,".OAuth"],[0,",\n  "]],"start1":52,"start2":52,"length1":14,"length2":8}]],"length":2104,"saved":false}
{"ts":1374432766912,"patch":[[{"diffs":[[0,"/\n \nvar "],[-1,"oa"],[1,"OA"],[0,"uth = re"]],"start1":24,"start2":24,"length1":18,"length2":18},{"diffs":[[0,"'oauth')"],[1,".OAuth"],[0,",\n    sy"]],"start1":48,"start2":48,"length1":16,"length2":22}]],"length":2110,"saved":false}
{"ts":1374432921927,"patch":[[{"diffs":[[0,"rl, "],[-1,"_authorizeUrl,_twitterConsumerSecret, _twitterConsumerKey, '1.0', null,"],[1,"\n                    _authorizeUrl\n                    ,_twitterConsumerKey, \n                    _twitterConsumerSecret, \n                    '1.0', \n                    null, \n                   "],[0," 'HM"]],"start1":604,"start2":604,"length1":79,"length2":205}]],"length":2236,"saved":false}
{"ts":1374433251694,"patch":[[{"diffs":[[0,"auth"],[-1,"enticat"],[1,"oriz"],[0,"e?oa"]],"start1":305,"start2":305,"length1":15,"length2":12}]],"length":2233,"saved":false}
{"ts":1374433397629,"patch":[[{"diffs":[[0,"uth/auth"],[-1,"orize"],[1,"entication"],[0,"?oauth_t"]],"start1":301,"start2":301,"length1":21,"length2":26},{"diffs":[[0,"  oa.get"],[-1,"O"],[1,"X"],[0,"AuthRequ"]],"start1":893,"start2":893,"length1":17,"length2":17}]],"length":2238,"saved":false}
